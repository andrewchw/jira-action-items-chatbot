{"version":3,"file":"popup.js","mappings":";;;;;+CACA,mKAAAA,mBAAA,YAAAA,oBAAA,WAAAC,CAAA,SAAAC,CAAA,EAAAD,CAAA,OAAAE,CAAA,GAAAC,MAAA,CAAAC,SAAA,EAAAC,CAAA,GAAAH,CAAA,CAAAI,cAAA,EAAAC,CAAA,wBAAAC,MAAA,GAAAA,MAAA,OAAAC,CAAA,GAAAF,CAAA,CAAAG,QAAA,kBAAAC,CAAA,GAAAJ,CAAA,CAAAK,aAAA,uBAAAC,CAAA,GAAAN,CAAA,CAAAO,WAAA,8BAAAC,EAAAd,CAAA,EAAAD,CAAA,EAAAE,CAAA,EAAAG,CAAA,WAAAF,MAAA,CAAAa,cAAA,CAAAf,CAAA,EAAAD,CAAA,IAAAiB,KAAA,EAAAf,CAAA,EAAAgB,UAAA,GAAAb,CAAA,EAAAc,YAAA,GAAAd,CAAA,EAAAe,QAAA,GAAAf,CAAA,aAAAU,CAAA,mBAAAd,CAAA,IAAAc,CAAA,YAAAA,EAAAd,CAAA,EAAAD,CAAA,EAAAE,CAAA,WAAAD,CAAA,CAAAD,CAAA,IAAAE,CAAA,gBAAAmB,EAAArB,CAAA,EAAAE,CAAA,EAAAG,CAAA,EAAAE,CAAA,QAAAE,CAAA,GAAAP,CAAA,IAAAA,CAAA,CAAAE,SAAA,YAAAkB,SAAA,GAAApB,CAAA,GAAAoB,SAAA,EAAAX,CAAA,GAAAR,MAAA,CAAAoB,MAAA,CAAAd,CAAA,CAAAL,SAAA,UAAAW,CAAA,CAAAJ,CAAA,uBAAAX,CAAA,EAAAE,CAAA,EAAAG,CAAA,QAAAE,CAAA,uBAAAE,CAAA,EAAAE,CAAA,cAAAJ,CAAA,QAAAiB,KAAA,4CAAAjB,CAAA,oBAAAE,CAAA,QAAAE,CAAA,WAAAM,KAAA,EAAAhB,CAAA,EAAAwB,IAAA,eAAApB,CAAA,CAAAqB,MAAA,GAAAjB,CAAA,EAAAJ,CAAA,CAAAsB,GAAA,GAAAhB,CAAA,UAAAE,CAAA,GAAAR,CAAA,CAAAuB,QAAA,MAAAf,CAAA,QAAAE,CAAA,GAAAc,CAAA,CAAAhB,CAAA,EAAAR,CAAA,OAAAU,CAAA,QAAAA,CAAA,KAAAe,CAAA,mBAAAf,CAAA,qBAAAV,CAAA,CAAAqB,MAAA,EAAArB,CAAA,CAAA0B,IAAA,GAAA1B,CAAA,CAAA2B,KAAA,GAAA3B,CAAA,CAAAsB,GAAA,sBAAAtB,CAAA,CAAAqB,MAAA,cAAAnB,CAAA,QAAAA,CAAA,MAAAF,CAAA,CAAAsB,GAAA,EAAAtB,CAAA,CAAA4B,iBAAA,CAAA5B,CAAA,CAAAsB,GAAA,uBAAAtB,CAAA,CAAAqB,MAAA,IAAArB,CAAA,CAAA6B,MAAA,WAAA7B,CAAA,CAAAsB,GAAA,GAAApB,CAAA,UAAAc,CAAA,GAAAc,CAAA,CAAAnC,CAAA,EAAAE,CAAA,EAAAG,CAAA,oBAAAgB,CAAA,CAAAe,IAAA,QAAA7B,CAAA,GAAAF,CAAA,CAAAoB,IAAA,UAAAJ,CAAA,CAAAM,GAAA,KAAAG,CAAA,qBAAAb,KAAA,EAAAI,CAAA,CAAAM,GAAA,EAAAF,IAAA,EAAApB,CAAA,CAAAoB,IAAA,kBAAAJ,CAAA,CAAAe,IAAA,KAAA7B,CAAA,MAAAF,CAAA,CAAAqB,MAAA,YAAArB,CAAA,CAAAsB,GAAA,GAAAN,CAAA,CAAAM,GAAA,UAAA3B,CAAA,EAAAK,CAAA,MAAAgC,OAAA,CAAA9B,CAAA,eAAAI,CAAA,aAAAwB,EAAAlC,CAAA,EAAAD,CAAA,EAAAE,CAAA,mBAAAkC,IAAA,YAAAT,GAAA,EAAA1B,CAAA,CAAAqC,IAAA,CAAAtC,CAAA,EAAAE,CAAA,cAAAD,CAAA,aAAAmC,IAAA,WAAAT,GAAA,EAAA1B,CAAA,QAAAD,CAAA,CAAAuC,IAAA,GAAAlB,CAAA,MAAAS,CAAA,gBAAAR,UAAA,cAAAkB,kBAAA,cAAAC,2BAAA,SAAAC,CAAA,OAAA3B,CAAA,CAAA2B,CAAA,EAAAjC,CAAA,qCAAAkC,CAAA,GAAAxC,MAAA,CAAAyC,cAAA,EAAAC,CAAA,GAAAF,CAAA,IAAAA,CAAA,CAAAA,CAAA,CAAAG,CAAA,QAAAD,CAAA,IAAAA,CAAA,KAAA3C,CAAA,IAAAG,CAAA,CAAAiC,IAAA,CAAAO,CAAA,EAAApC,CAAA,MAAAiC,CAAA,GAAAG,CAAA,OAAAE,CAAA,GAAAN,0BAAA,CAAArC,SAAA,GAAAkB,SAAA,CAAAlB,SAAA,GAAAD,MAAA,CAAAoB,MAAA,CAAAmB,CAAA,YAAAM,EAAA/C,CAAA,gCAAAgD,OAAA,WAAAjD,CAAA,IAAAe,CAAA,CAAAd,CAAA,EAAAD,CAAA,YAAAC,CAAA,gBAAAiD,OAAA,CAAAlD,CAAA,EAAAC,CAAA,sBAAAkD,cAAAlD,CAAA,EAAAD,CAAA,aAAAE,EAAAK,CAAA,EAAAE,CAAA,EAAAE,CAAA,EAAAE,CAAA,QAAAE,CAAA,GAAAoB,CAAA,CAAAlC,CAAA,CAAAM,CAAA,GAAAN,CAAA,EAAAQ,CAAA,mBAAAM,CAAA,CAAAqB,IAAA,QAAAf,CAAA,GAAAN,CAAA,CAAAY,GAAA,EAAAG,CAAA,GAAAT,CAAA,CAAAJ,KAAA,SAAAa,CAAA,gBAAAsB,OAAA,CAAAtB,CAAA,KAAAzB,CAAA,CAAAiC,IAAA,CAAAR,CAAA,eAAA9B,CAAA,CAAAqD,OAAA,CAAAvB,CAAA,CAAAwB,OAAA,EAAAC,IAAA,WAAAtD,CAAA,IAAAC,CAAA,SAAAD,CAAA,EAAAU,CAAA,EAAAE,CAAA,gBAAAZ,CAAA,IAAAC,CAAA,UAAAD,CAAA,EAAAU,CAAA,EAAAE,CAAA,QAAAb,CAAA,CAAAqD,OAAA,CAAAvB,CAAA,EAAAyB,IAAA,WAAAtD,CAAA,IAAAoB,CAAA,CAAAJ,KAAA,GAAAhB,CAAA,EAAAU,CAAA,CAAAU,CAAA,gBAAApB,CAAA,WAAAC,CAAA,UAAAD,CAAA,EAAAU,CAAA,EAAAE,CAAA,SAAAA,CAAA,CAAAE,CAAA,CAAAY,GAAA,SAAApB,CAAA,EAAAQ,CAAA,4BAAAd,CAAA,EAAAI,CAAA,aAAAI,EAAA,eAAAT,CAAA,WAAAA,CAAA,EAAAO,CAAA,IAAAL,CAAA,CAAAD,CAAA,EAAAI,CAAA,EAAAL,CAAA,EAAAO,CAAA,gBAAAA,CAAA,GAAAA,CAAA,GAAAA,CAAA,CAAAgD,IAAA,CAAA9C,CAAA,EAAAA,CAAA,IAAAA,CAAA,uBAAAoB,EAAA7B,CAAA,EAAAE,CAAA,QAAAG,CAAA,GAAAH,CAAA,CAAAwB,MAAA,EAAAnB,CAAA,GAAAP,CAAA,CAAAS,CAAA,CAAAJ,CAAA,OAAAE,CAAA,KAAAN,CAAA,SAAAC,CAAA,CAAA0B,QAAA,qBAAAvB,CAAA,IAAAL,CAAA,CAAAS,CAAA,eAAAP,CAAA,CAAAwB,MAAA,aAAAxB,CAAA,CAAAyB,GAAA,GAAA1B,CAAA,EAAA4B,CAAA,CAAA7B,CAAA,EAAAE,CAAA,eAAAA,CAAA,CAAAwB,MAAA,kBAAArB,CAAA,KAAAH,CAAA,CAAAwB,MAAA,YAAAxB,CAAA,CAAAyB,GAAA,OAAA6B,SAAA,uCAAAnD,CAAA,iBAAAyB,CAAA,MAAArB,CAAA,GAAA0B,CAAA,CAAA5B,CAAA,EAAAP,CAAA,CAAAS,CAAA,EAAAP,CAAA,CAAAyB,GAAA,mBAAAlB,CAAA,CAAA2B,IAAA,SAAAlC,CAAA,CAAAwB,MAAA,YAAAxB,CAAA,CAAAyB,GAAA,GAAAlB,CAAA,CAAAkB,GAAA,EAAAzB,CAAA,CAAA0B,QAAA,SAAAE,CAAA,MAAAnB,CAAA,GAAAF,CAAA,CAAAkB,GAAA,SAAAhB,CAAA,GAAAA,CAAA,CAAAc,IAAA,IAAAvB,CAAA,CAAAF,CAAA,CAAAA,CAAA,IAAAW,CAAA,CAAAM,KAAA,EAAAf,CAAA,CAAAuD,IAAA,GAAAzD,CAAA,CAAAK,CAAA,eAAAH,CAAA,CAAAwB,MAAA,KAAAxB,CAAA,CAAAwB,MAAA,WAAAxB,CAAA,CAAAyB,GAAA,GAAA1B,CAAA,GAAAC,CAAA,CAAA0B,QAAA,SAAAE,CAAA,IAAAnB,CAAA,IAAAT,CAAA,CAAAwB,MAAA,YAAAxB,CAAA,CAAAyB,GAAA,OAAA6B,SAAA,sCAAAtD,CAAA,CAAA0B,QAAA,SAAAE,CAAA,cAAA4B,EAAAzD,CAAA,SAAA0D,UAAA,CAAAC,IAAA,CAAA3D,CAAA,cAAA4D,EAAA7D,CAAA,QAAAE,CAAA,GAAAF,CAAA,WAAAE,CAAA,CAAAkC,IAAA,aAAAlC,CAAA,CAAAyB,GAAA,GAAA1B,CAAA,EAAAD,CAAA,MAAAE,CAAA,aAAAmC,QAAApC,CAAA,SAAA0D,UAAA,WAAA1D,CAAA,CAAAgD,OAAA,CAAAS,CAAA,cAAAI,KAAA,iBAAAhB,EAAA9C,CAAA,gBAAAA,CAAA,QAAAE,CAAA,GAAAF,CAAA,CAAAS,CAAA,OAAAP,CAAA,SAAAA,CAAA,CAAAoC,IAAA,CAAAtC,CAAA,4BAAAA,CAAA,CAAAyD,IAAA,SAAAzD,CAAA,OAAA+D,KAAA,CAAA/D,CAAA,CAAAgE,MAAA,SAAAzD,CAAA,OAAAI,CAAA,YAAAT,EAAA,aAAAK,CAAA,GAAAP,CAAA,CAAAgE,MAAA,OAAA3D,CAAA,CAAAiC,IAAA,CAAAtC,CAAA,EAAAO,CAAA,UAAAL,CAAA,CAAAe,KAAA,GAAAjB,CAAA,CAAAO,CAAA,GAAAL,CAAA,CAAAuB,IAAA,OAAAvB,CAAA,SAAAA,CAAA,CAAAe,KAAA,GAAAhB,CAAA,EAAAC,CAAA,CAAAuB,IAAA,OAAAvB,CAAA,YAAAS,CAAA,CAAA8C,IAAA,GAAA9C,CAAA,gBAAA6C,SAAA,CAAAJ,OAAA,CAAApD,CAAA,kCAAAwC,iBAAA,CAAApC,SAAA,GAAAqC,0BAAA,EAAA1B,CAAA,CAAAgC,CAAA,iBAAAN,0BAAA,GAAA1B,CAAA,CAAA0B,0BAAA,iBAAAD,iBAAA,GAAAA,iBAAA,CAAAyB,WAAA,GAAAlD,CAAA,CAAA0B,0BAAA,EAAA5B,CAAA,wBAAAb,CAAA,CAAAkE,mBAAA,aAAAjE,CAAA,QAAAD,CAAA,wBAAAC,CAAA,IAAAA,CAAA,CAAAkE,WAAA,WAAAnE,CAAA,KAAAA,CAAA,KAAAwC,iBAAA,6BAAAxC,CAAA,CAAAiE,WAAA,IAAAjE,CAAA,CAAAoE,IAAA,OAAApE,CAAA,CAAAqE,IAAA,aAAApE,CAAA,WAAAE,MAAA,CAAAmE,cAAA,GAAAnE,MAAA,CAAAmE,cAAA,CAAArE,CAAA,EAAAwC,0BAAA,KAAAxC,CAAA,CAAAsE,SAAA,GAAA9B,0BAAA,EAAA1B,CAAA,CAAAd,CAAA,EAAAY,CAAA,yBAAAZ,CAAA,CAAAG,SAAA,GAAAD,MAAA,CAAAoB,MAAA,CAAAwB,CAAA,GAAA9C,CAAA,KAAAD,CAAA,CAAAwE,KAAA,aAAAvE,CAAA,aAAAqD,OAAA,EAAArD,CAAA,OAAA+C,CAAA,CAAAG,aAAA,CAAA/C,SAAA,GAAAW,CAAA,CAAAoC,aAAA,CAAA/C,SAAA,EAAAO,CAAA,iCAAAX,CAAA,CAAAmD,aAAA,GAAAA,aAAA,EAAAnD,CAAA,CAAAyE,KAAA,aAAAxE,CAAA,EAAAC,CAAA,EAAAG,CAAA,EAAAE,CAAA,EAAAE,CAAA,eAAAA,CAAA,KAAAA,CAAA,GAAAiE,OAAA,OAAA/D,CAAA,OAAAwC,aAAA,CAAA9B,CAAA,CAAApB,CAAA,EAAAC,CAAA,EAAAG,CAAA,EAAAE,CAAA,GAAAE,CAAA,UAAAT,CAAA,CAAAkE,mBAAA,CAAAhE,CAAA,IAAAS,CAAA,GAAAA,CAAA,CAAA8C,IAAA,GAAAF,IAAA,WAAAtD,CAAA,WAAAA,CAAA,CAAAwB,IAAA,GAAAxB,CAAA,CAAAgB,KAAA,GAAAN,CAAA,CAAA8C,IAAA,WAAAT,CAAA,CAAAD,CAAA,GAAAhC,CAAA,CAAAgC,CAAA,EAAAlC,CAAA,gBAAAE,CAAA,CAAAgC,CAAA,EAAAtC,CAAA,iCAAAM,CAAA,CAAAgC,CAAA,6DAAA/C,CAAA,CAAA2E,IAAA,aAAA1E,CAAA,QAAAD,CAAA,GAAAG,MAAA,CAAAF,CAAA,GAAAC,CAAA,gBAAAG,CAAA,IAAAL,CAAA,EAAAE,CAAA,CAAA0E,OAAA,CAAAvE,CAAA,mBAAAJ,EAAA,WAAAC,CAAA,CAAA8D,MAAA,QAAA3D,CAAA,GAAAH,CAAA,CAAA2E,GAAA,OAAA7E,CAAA,SAAAC,CAAA,CAAAgB,KAAA,GAAAZ,CAAA,EAAAJ,CAAA,CAAAwB,IAAA,OAAAxB,CAAA,SAAAA,CAAA,CAAAwB,IAAA,OAAAxB,CAAA,QAAAD,CAAA,CAAA8E,MAAA,GAAAhC,CAAA,EAAAT,OAAA,CAAAjC,SAAA,KAAA+D,WAAA,EAAA9B,OAAA,EAAAyB,KAAA,WAAAA,MAAA9D,CAAA,aAAA+E,IAAA,QAAAtB,IAAA,WAAA1B,IAAA,QAAAC,KAAA,GAAA/B,CAAA,OAAAwB,IAAA,YAAAG,QAAA,cAAAF,MAAA,gBAAAC,GAAA,GAAA1B,CAAA,OAAA0D,UAAA,CAAAV,OAAA,CAAAY,CAAA,IAAA7D,CAAA,WAAAE,CAAA,kBAAAA,CAAA,CAAA8E,MAAA,OAAA3E,CAAA,CAAAiC,IAAA,OAAApC,CAAA,MAAA6D,KAAA,EAAA7D,CAAA,CAAA+E,KAAA,cAAA/E,CAAA,IAAAD,CAAA,MAAAiF,IAAA,WAAAA,KAAA,SAAAzD,IAAA,WAAAxB,CAAA,QAAA0D,UAAA,wBAAA1D,CAAA,CAAAmC,IAAA,QAAAnC,CAAA,CAAA0B,GAAA,cAAAwD,IAAA,KAAAlD,iBAAA,WAAAA,kBAAAjC,CAAA,aAAAyB,IAAA,QAAAzB,CAAA,MAAAE,CAAA,kBAAAG,EAAAJ,CAAA,IAAAU,CAAA,CAAAyB,IAAA,YAAAzB,CAAA,CAAAgB,GAAA,GAAA3B,CAAA,EAAAE,CAAA,CAAAuD,IAAA,GAAAxD,CAAA,aAAAM,CAAA,GAAAL,CAAA,CAAAyD,UAAA,CAAAK,MAAA,MAAAzD,CAAA,SAAAA,CAAA,QAAAE,CAAA,QAAAkD,UAAA,CAAApD,CAAA,GAAAI,CAAA,GAAAF,CAAA,KAAAI,CAAA,QAAAkE,IAAA,EAAAhE,CAAA,GAAAN,CAAA,KAAAY,CAAA,GAAAZ,CAAA,gBAAAA,CAAA,YAAAJ,CAAA,kBAAAU,CAAA,KAAAM,CAAA,QAAAG,KAAA,wDAAAf,CAAA,OAAAA,CAAA,OAAAI,CAAA,QAAAA,CAAA,GAAAE,CAAA,cAAAW,MAAA,gBAAAC,GAAA,GAAA1B,CAAA,EAAAI,CAAA,CAAAU,CAAA,WAAAF,CAAA,GAAAQ,CAAA,SAAAhB,CAAA,CAAAgB,CAAA,cAAAa,MAAA,WAAAA,OAAAjC,CAAA,EAAAD,CAAA,aAAAE,CAAA,QAAAyD,UAAA,CAAAK,MAAA,MAAA9D,CAAA,SAAAA,CAAA,QAAAG,CAAA,QAAAsD,UAAA,CAAAzD,CAAA,OAAAG,CAAA,YAAAA,CAAA,YAAA0E,IAAA,SAAAA,IAAA,GAAA1E,CAAA,WAAAE,CAAA,GAAAF,CAAA,aAAAE,CAAA,iBAAAN,CAAA,mBAAAA,CAAA,KAAAM,CAAA,OAAAP,CAAA,IAAAA,CAAA,IAAAO,CAAA,QAAAA,CAAA,cAAAE,CAAA,GAAAF,CAAA,GAAAA,CAAA,iBAAAE,CAAA,CAAA2B,IAAA,GAAAnC,CAAA,EAAAQ,CAAA,CAAAkB,GAAA,GAAA3B,CAAA,EAAAO,CAAA,SAAAmB,MAAA,gBAAA+B,IAAA,GAAAlD,CAAA,KAAAuB,CAAA,SAAAsD,QAAA,CAAA3E,CAAA,MAAA2E,QAAA,WAAAA,SAAAnF,CAAA,EAAAD,CAAA,oBAAAC,CAAA,CAAAmC,IAAA,QAAAnC,CAAA,CAAA0B,GAAA,qBAAA1B,CAAA,CAAAmC,IAAA,mBAAAnC,CAAA,CAAAmC,IAAA,QAAAqB,IAAA,GAAAxD,CAAA,CAAA0B,GAAA,gBAAA1B,CAAA,CAAAmC,IAAA,SAAA+C,IAAA,QAAAxD,GAAA,GAAA1B,CAAA,CAAA0B,GAAA,OAAAD,MAAA,kBAAA+B,IAAA,yBAAAxD,CAAA,CAAAmC,IAAA,IAAApC,CAAA,UAAAyD,IAAA,GAAAzD,CAAA,GAAA8B,CAAA,KAAAuD,MAAA,WAAAA,OAAApF,CAAA,aAAAD,CAAA,QAAA2D,UAAA,CAAAK,MAAA,MAAAhE,CAAA,SAAAA,CAAA,QAAAE,CAAA,QAAAyD,UAAA,CAAA3D,CAAA,OAAAE,CAAA,QAAAD,CAAA,cAAAmF,QAAA,CAAAlF,CAAA,KAAAA,CAAA,MAAA2D,CAAA,CAAA3D,CAAA,GAAA4B,CAAA,yBAAAwD,OAAArF,CAAA,aAAAD,CAAA,QAAA2D,UAAA,CAAAK,MAAA,MAAAhE,CAAA,SAAAA,CAAA,QAAAE,CAAA,QAAAyD,UAAA,CAAA3D,CAAA,OAAAE,CAAA,QAAAD,CAAA,QAAAI,CAAA,GAAAH,CAAA,qBAAAG,CAAA,CAAA+B,IAAA,QAAA7B,CAAA,GAAAF,CAAA,CAAAsB,GAAA,EAAAkC,CAAA,CAAA3D,CAAA,YAAAK,CAAA,YAAAiB,KAAA,8BAAA+D,aAAA,WAAAA,cAAAvF,CAAA,EAAAE,CAAA,EAAAG,CAAA,gBAAAuB,QAAA,KAAAnB,CAAA,EAAAqC,CAAA,CAAA9C,CAAA,GAAAA,CAAA,EAAAE,CAAA,EAAAG,CAAA,EAAAA,CAAA,oBAAAqB,MAAA,UAAAC,GAAA,GAAA1B,CAAA,GAAA6B,CAAA,OAAA9B,CAAA;AAAA,SAAAwF,mBAAAnF,CAAA,EAAAJ,CAAA,EAAAC,CAAA,EAAAF,CAAA,EAAAO,CAAA,EAAAI,CAAA,EAAAI,CAAA,cAAAN,CAAA,GAAAJ,CAAA,CAAAM,CAAA,EAAAI,CAAA,GAAAF,CAAA,GAAAJ,CAAA,CAAAQ,KAAA,WAAAZ,CAAA,gBAAAH,CAAA,CAAAG,CAAA,KAAAI,CAAA,CAAAgB,IAAA,GAAAxB,CAAA,CAAAY,CAAA,IAAA6D,OAAA,CAAArB,OAAA,CAAAxC,CAAA,EAAA0C,IAAA,CAAAvD,CAAA,EAAAO,CAAA;AAAA,SAAAkF,kBAAApF,CAAA,6BAAAJ,CAAA,SAAAC,CAAA,GAAAwF,SAAA,aAAAhB,OAAA,WAAA1E,CAAA,EAAAO,CAAA,QAAAI,CAAA,GAAAN,CAAA,CAAAsF,KAAA,CAAA1F,CAAA,EAAAC,CAAA,YAAA0F,MAAAvF,CAAA,IAAAmF,kBAAA,CAAA7E,CAAA,EAAAX,CAAA,EAAAO,CAAA,EAAAqF,KAAA,EAAAC,MAAA,UAAAxF,CAAA,cAAAwF,OAAAxF,CAAA,IAAAmF,kBAAA,CAAA7E,CAAA,EAAAX,CAAA,EAAAO,CAAA,EAAAqF,KAAA,EAAAC,MAAA,WAAAxF,CAAA,KAAAuF,KAAA;AADA;AACA;AACA;AACA;;AAEA;AACA,IAAME,YAAY,GAAGC,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC;AAC7D,IAAMC,SAAS,GAAGF,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC;AACvD,IAAME,UAAU,GAAGH,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC;AACzD,IAAMG,YAAY,GAAGJ,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC;AAC7D,IAAMI,YAAY,GAAGL,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC;AAC7D,IAAMK,UAAU,GAAGN,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC;AACzD,IAAMM,OAAO,GAAGP,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAC;AACnD,IAAMO,QAAQ,GAAGR,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC;AACrD,IAAMQ,WAAW,GAAGT,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAC;AAC3D,IAAMS,YAAY,GAAGV,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC;AAC7D,IAAMU,eAAe,GAAGX,QAAQ,CAACC,cAAc,CAAC,kBAAkB,CAAC;AACnE,IAAMW,cAAc,GAAGZ,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC;AAC5D,IAAMY,mBAAmB,GAAGb,QAAQ,CAACC,cAAc,CAAC,sBAAsB,CAAC;AAC3E,IAAMa,kBAAkB,GAAGd,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC;AACnE,IAAMc,QAAQ,GAAGf,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC;;AAErD;AACA,IAAIe,WAAW,GAAG,EAAE;;AAEpB;AACA,IAAMC,gBAAgB,GAAG;EACvB,WAAS,CACP,4DAA4D,EAC5D,uCAAuC,EACvC,uDAAuD,EACvD,kCAAkC,EAClC,mCAAmC,CACpC;EACDC,SAAS,EAAE,CACT,6BAA6B,EAC7B,gCAAgC,EAChC,qBAAqB,EACrB,6BAA6B,EAC7B,qBAAqB,CACtB;EACDC,SAAS,EAAE,CACT,2BAA2B,EAC3B,2CAA2C,EAC3C,oCAAoC,EACpC,8BAA8B,EAC9B,0BAA0B;AAE9B,CAAC;;AAED;AACA,IAAIC,iBAAiB,GAAG,SAAS;AACjC,IAAIC,kBAAkB,GAAG,CAAC,CAAC;;AAE3B;AACArB,QAAQ,CAACsB,gBAAgB,CAAC,kBAAkB,EAAE,YAAM;EAClD;EACAC,YAAY,CAAC,CAAC;;EAEd;EACAC,qBAAqB,CAAC,CAAC;;EAEvB;EACAC,eAAe,CAAC,CAAC;;EAEjB;EACAC,iBAAiB,CAAC,CAAC;;EAEnB;EACAC,MAAM,CAACC,OAAO,CAACC,KAAK,CAACC,GAAG,CAAC,WAAW,EAAE,UAACC,IAAI,EAAK;IAC9C,IAAIA,IAAI,CAACC,SAAS,KAAK,KAAK,EAAE;MAC5B;MACAL,MAAM,CAACC,OAAO,CAACC,KAAK,CAACI,GAAG,CAAC;QAAED,SAAS,EAAE;MAAM,CAAC,CAAC;MAC9CE,UAAU,CAAC,KAAK,EAAE,iEAAiE,CAAC;;MAEpF;MACAC,UAAU,CAAC,YAAM;QACfD,UAAU,CAAC,KAAK,EAAE,uCAAuC,GACvD,4BAA4B,GAC5B,mCAAmC,GACnC,0BAA0B,GAC1B,kCAAkC,GAClC,uDAAuD,CAAC;;QAE1D;QACAE,eAAe,CAAC,CAAC;MACnB,CAAC,EAAE,IAAI,CAAC;IACV;EACF,CAAC,CAAC;;EAEF;EACAC,mBAAmB,CAAC,CAAC;AACvB,CAAC,CAAC;;AAEF;AACA,SAASd,YAAYA,CAAA,EAAG;EACtBI,MAAM,CAACC,OAAO,CAACC,KAAK,CAACC,GAAG,CAAC,CAAC,WAAW,EAAE,sBAAsB,CAAC,EAAE,UAACC,IAAI,EAAK;IACxE,IAAIA,IAAI,CAACO,SAAS,EAAE;MAClB1B,cAAc,CAAC1F,KAAK,GAAG6G,IAAI,CAACO,SAAS;IACvC;IAEA,IAAIP,IAAI,CAACQ,oBAAoB,KAAKC,SAAS,EAAE;MAC3C3B,mBAAmB,CAAC4B,OAAO,GAAGV,IAAI,CAACQ,oBAAoB;IACzD;EACF,CAAC,CAAC;AACJ;;AAEA;AACA,SAASf,qBAAqBA,CAAA,EAAG;EAC/BG,MAAM,CAACC,OAAO,CAACC,KAAK,CAACC,GAAG,CAAC,WAAW,EAAE,UAACC,IAAI,EAAK;IAC9C,IAAMO,SAAS,GAAGP,IAAI,CAACO,SAAS,IAAI,uBAAuB;IAE3DI,KAAK,IAAAC,MAAA,CAAIL,SAAS,cAAW;MAAE3G,MAAM,EAAE;IAAM,CAAC,CAAC,CAC5C6B,IAAI,CAAC,UAAAoF,QAAQ,EAAI;MAChB,IAAIA,QAAQ,CAACC,EAAE,EAAE;QACfC,SAAS,CAAC,WAAW,CAAC;MACxB,CAAC,MAAM;QACLA,SAAS,CAAC,OAAO,CAAC;MACpB;IACF,CAAC,CAAC,SACI,CAAC,YAAM;MACXA,SAAS,CAAC,cAAc,CAAC;IAC3B,CAAC,CAAC;EACN,CAAC,CAAC;AACJ;;AAEA;AACA,SAASA,SAASA,CAACC,MAAM,EAAE;EACzB1C,YAAY,CAAC2C,SAAS,GAAG,eAAe;EAExC,QAAQD,MAAM;IACZ,KAAK,WAAW;MACd1C,YAAY,CAAC4C,SAAS,CAACC,GAAG,CAAC,WAAW,CAAC;MACvC5C,UAAU,CAAC6C,WAAW,GAAG,WAAW;MACpC;IACF,KAAK,cAAc;MACjB9C,YAAY,CAAC4C,SAAS,CAACC,GAAG,CAAC,cAAc,CAAC;MAC1C5C,UAAU,CAAC6C,WAAW,GAAG,cAAc;MACvC;IACF,KAAK,OAAO;MACV9C,YAAY,CAAC4C,SAAS,CAACC,GAAG,CAAC,OAAO,CAAC;MACnC5C,UAAU,CAAC6C,WAAW,GAAG,OAAO;MAChC;IACF;MACE9C,YAAY,CAAC4C,SAAS,CAACC,GAAG,CAAC,YAAY,CAAC;MACxC5C,UAAU,CAAC6C,WAAW,GAAG,eAAe;EAC5C;AACF;;AAEA;AACA,SAAS1B,eAAeA,CAAA,EAAG;EACzBE,MAAM,CAACC,OAAO,CAACC,KAAK,CAACC,GAAG,CAAC,aAAa,EAAE,UAACC,IAAI,EAAK;IAChD,IAAIA,IAAI,CAACf,WAAW,IAAIe,IAAI,CAACf,WAAW,CAAC/C,MAAM,GAAG,CAAC,EAAE;MACnD+C,WAAW,GAAGe,IAAI,CAACf,WAAW;;MAE9B;MACA,IAAMoC,cAAc,GAAGpC,WAAW,CAAC9B,KAAK,CAAC,CAAC,EAAE,CAAC;MAC7CkE,cAAc,CAAClG,OAAO,CAAC,UAAAmG,GAAG,EAAI;QAC5BC,cAAc,CAACD,GAAG,CAACE,MAAM,EAAEF,GAAG,CAACG,IAAI,EAAEH,GAAG,CAACI,SAAS,CAAC;MACrD,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;AACJ;;AAEA;AACA,SAASvB,UAAUA,CAACqB,MAAM,EAAEC,IAAI,EAAE;EAChC,IAAMC,SAAS,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;;EAE1C;EACA3C,WAAW,CAACnD,IAAI,CAAC;IAAE0F,MAAM,EAANA,MAAM;IAAEC,IAAI,EAAJA,IAAI;IAAEC,SAAS,EAATA;EAAU,CAAC,CAAC;;EAE7C;EACA,IAAIzC,WAAW,CAAC/C,MAAM,GAAG,EAAE,EAAE;IAC3B+C,WAAW,GAAGA,WAAW,CAAC9B,KAAK,CAAC,CAAC,EAAE,CAAC;EACtC;EACAyC,MAAM,CAACC,OAAO,CAACC,KAAK,CAACI,GAAG,CAAC;IAAEjB,WAAW,EAAXA;EAAY,CAAC,CAAC;;EAEzC;EACAsC,cAAc,CAACC,MAAM,EAAEC,IAAI,EAAEC,SAAS,CAAC;;EAEvC;EACA,IAAIF,MAAM,KAAK,KAAK,EAAE;IACpBpB,UAAU,CAAC,YAAM;MACfC,eAAe,CAAC,CAAC;IACnB,CAAC,EAAE,GAAG,CAAC;EACT;AACF;;AAEA;AACA,SAASkB,cAAcA,CAACC,MAAM,EAAEC,IAAI,EAAEC,SAAS,EAAE;EAC/C,IAAMG,UAAU,GAAG5D,QAAQ,CAAC6D,aAAa,CAAC,KAAK,CAAC;EAChDD,UAAU,CAACZ,SAAS,cAAAL,MAAA,CAAcY,MAAM,aAAU;EAElD,IAAMO,IAAI,GAAG,IAAIJ,IAAI,CAACD,SAAS,CAAC;EAChC,IAAMM,aAAa,MAAApB,MAAA,CAAMmB,IAAI,CAACE,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,OAAAvB,MAAA,CAAImB,IAAI,CAACK,UAAU,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAE;EAEvHN,UAAU,CAACQ,SAAS,2CAAAzB,MAAA,CACaa,IAAI,8CAAAb,MAAA,CACPoB,aAAa,eAC1C;EAEDhE,YAAY,CAACsE,WAAW,CAACT,UAAU,CAAC;;EAEpC;EACA7D,YAAY,CAACuE,SAAS,GAAGvE,YAAY,CAACwE,YAAY;AACpD;;AAEA;AACA,SAAS7C,iBAAiBA,CAAA,EAAG;EAC3B8C,iBAAiB,CAAC,CAAC,CAAChH,IAAI,CAAC,UAAAiH,OAAO,EAAI;IAClCpD,kBAAkB,GAAGoD,OAAO;;IAE5B;IACA,IAAIA,OAAO,CAACC,QAAQ,EAAE;MACpBtD,iBAAiB,GAAG,WAAW;MAC/BlB,SAAS,CAACyE,WAAW,gBAAAhC,MAAA,CAAgB8B,OAAO,CAACC,QAAQ,QAAK;IAC5D,CAAC,MAAM,IAAID,OAAO,CAACG,UAAU,EAAE;MAC7BxD,iBAAiB,GAAG,WAAW;MAC/BlB,SAAS,CAACyE,WAAW,GAAG,oCAAoC;IAC9D,CAAC,MAAM;MACLvD,iBAAiB,GAAG,SAAS;MAC7BlB,SAAS,CAACyE,WAAW,GAAG,qFAAqF;IAC/G;;IAEA;IACAvC,eAAe,CAAC,CAAC;EACnB,CAAC,CAAC;AACJ;;AAEA;AACA,SAASA,eAAeA,CAAA,EAAG;EACzB;EACA,IAAMyC,mBAAmB,GAAG7E,QAAQ,CAACC,cAAc,CAAC,kBAAkB,CAAC;EACvE,IAAI4E,mBAAmB,EAAE;IACvBA,mBAAmB,CAACC,MAAM,CAAC,CAAC;EAC9B;;EAEA;EACA,IAAMC,cAAc,GAAG/E,QAAQ,CAAC6D,aAAa,CAAC,KAAK,CAAC;EACpDkB,cAAc,CAACC,EAAE,GAAG,kBAAkB;EACtCD,cAAc,CAAC/B,SAAS,GAAG,kBAAkB;;EAE7C;EACA,IAAMiC,WAAW,GAAGhE,gBAAgB,CAACG,iBAAiB,CAAC,IAAIH,gBAAgB,WAAQ;;EAEnF;EACAgE,WAAW,CAAC/F,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAChC,OAAO,CAAC,UAAAgI,UAAU,EAAI;IAC5C,IAAMC,MAAM,GAAGnF,QAAQ,CAAC6D,aAAa,CAAC,QAAQ,CAAC;IAC/CsB,MAAM,CAACnC,SAAS,GAAG,mBAAmB;IACtCmC,MAAM,CAAChC,WAAW,GAAG+B,UAAU;IAC/BC,MAAM,CAAC7D,gBAAgB,CAAC,OAAO,EAAE,YAAM;MACrCpB,SAAS,CAAChF,KAAK,GAAGgK,UAAU;MAC5BE,WAAW,CAAC,CAAC;IACf,CAAC,CAAC;IACFL,cAAc,CAACV,WAAW,CAACc,MAAM,CAAC;EACpC,CAAC,CAAC;;EAEF;EACA,IAAME,aAAa,GAAGrF,QAAQ,CAACsF,aAAa,CAAC,iBAAiB,CAAC;EAC/DD,aAAa,CAACE,YAAY,CAACR,cAAc,EAAE/E,QAAQ,CAACsF,aAAa,CAAC,kBAAkB,CAAC,CAAC;AACxF;;AAEA;AACA,SAASjD,mBAAmBA,CAAA,EAAG;EAC7B;EACAlC,UAAU,CAACmB,gBAAgB,CAAC,OAAO,EAAE8D,WAAW,CAAC;;EAEjD;EACAlF,SAAS,CAACoB,gBAAgB,CAAC,SAAS,EAAE,UAACnH,CAAC,EAAK;IAC3C,IAAIA,CAAC,CAACqL,GAAG,KAAK,OAAO,IAAI,CAACrL,CAAC,CAACsL,QAAQ,EAAE;MACpCtL,CAAC,CAACuL,cAAc,CAAC,CAAC;MAClBN,WAAW,CAAC,CAAC;IACf;EACF,CAAC,CAAC;;EAEF;EACA7E,OAAO,CAACe,gBAAgB,CAAC,OAAO,EAAE;IAAA,OAAMqE,SAAS,CAAC,MAAM,CAAC;EAAA,EAAC;EAC1DnF,QAAQ,CAACc,gBAAgB,CAAC,OAAO,EAAE,YAAM;IACvCqE,SAAS,CAAC,OAAO,CAAC;IAClBC,SAAS,CAAC,CAAC;EACb,CAAC,CAAC;EACFnF,WAAW,CAACa,gBAAgB,CAAC,OAAO,EAAE;IAAA,OAAMqE,SAAS,CAAC,UAAU,CAAC;EAAA,EAAC;;EAElE;EACA7E,kBAAkB,CAACQ,gBAAgB,CAAC,OAAO,EAAEuE,YAAY,CAAC;;EAE1D;EACAzF,YAAY,CAACkB,gBAAgB,CAAC,OAAO,EAAEwE,gBAAgB,CAAC;;EAExD;EACAvF,OAAO,CAACe,gBAAgB,CAAC,OAAO,EAAE,YAAM;IACtCa,UAAU,CAAC;MAAA,OAAMjC,SAAS,CAAC6F,KAAK,CAAC,CAAC;IAAA,GAAE,GAAG,CAAC;EAC1C,CAAC,CAAC;;EAEF;EACApE,MAAM,CAACqE,IAAI,CAACC,WAAW,CAACC,WAAW,CAAC,YAAM;IACxCxE,iBAAiB,CAAC,CAAC;EACrB,CAAC,CAAC;;EAEF;EACAxB,SAAS,CAACoB,gBAAgB,CAAC,OAAO,EAAE6E,gBAAgB,CAAC;AACvD;;AAEA;AACA,SAASA,gBAAgBA,CAAA,EAAG;EAC1B,IAAMC,KAAK,GAAGlG,SAAS,CAAChF,KAAK,CAACmL,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;;EAElD;EACA,IAAIF,KAAK,CAACnI,MAAM,GAAG,CAAC,EAAE;;EAEtB;EACA,IAAMsI,aAAa,GAAG,CAAC,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,CAAC;EACtD,IAAMC,eAAe,GAAG,CAAC,QAAQ,EAAE,cAAc,EAAE,OAAO,CAAC;EAC3D,IAAMC,aAAa,GAAG,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,CAAC;EAC5D,IAAMC,WAAW,GAAG,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,SAAS,CAAC;;EAE9D;EACA,IAAIH,aAAa,CAACI,IAAI,CAAC,UAAAC,MAAM;IAAA,OAAIR,KAAK,CAACS,QAAQ,CAACD,MAAM,CAAC;EAAA,EAAC,IAAIR,KAAK,CAACS,QAAQ,CAAC,MAAM,CAAC,EAAE;IAClF3G,SAAS,CAACyE,WAAW,GAAG,uDAAuD;EACjF,CAAC,MAAM,IAAI6B,eAAe,CAACG,IAAI,CAAC,UAAAC,MAAM;IAAA,OAAIR,KAAK,CAACS,QAAQ,CAACD,MAAM,CAAC;EAAA,EAAC,EAAE;IACjE1G,SAAS,CAACyE,WAAW,GAAG,wDAAwD;EAClF,CAAC,MAAM,IAAI8B,aAAa,CAACE,IAAI,CAAC,UAAAC,MAAM;IAAA,OAAIR,KAAK,CAACS,QAAQ,CAACD,MAAM,CAAC;EAAA,EAAC,IAAIR,KAAK,CAACS,QAAQ,CAAC,QAAQ,CAAC,EAAE;IAC3F3G,SAAS,CAACyE,WAAW,GAAG,qDAAqD;EAC/E,CAAC,MAAM,IAAI+B,WAAW,CAACC,IAAI,CAAC,UAAAC,MAAM;IAAA,OAAIR,KAAK,CAACS,QAAQ,CAACD,MAAM,CAAC;EAAA,EAAC,EAAE;IAC7D1G,SAAS,CAACyE,WAAW,GAAG,6DAA6D;EACvF;AACF;;AAEA;AACA,SAASgB,SAASA,CAACmB,GAAG,EAAE;EACtB;EACA9G,QAAQ,CAACsF,aAAa,CAAC,iBAAiB,CAAC,CAACyB,KAAK,CAACC,OAAO,GAAG,MAAM;EAChEtG,YAAY,CAACqG,KAAK,CAACC,OAAO,GAAG,MAAM;EACnCrG,eAAe,CAACoG,KAAK,CAACC,OAAO,GAAG,MAAM;;EAEtC;EACAzG,OAAO,CAAC0C,SAAS,CAAC6B,MAAM,CAAC,QAAQ,CAAC;EAClCtE,QAAQ,CAACyC,SAAS,CAAC6B,MAAM,CAAC,QAAQ,CAAC;EACnCrE,WAAW,CAACwC,SAAS,CAAC6B,MAAM,CAAC,QAAQ,CAAC;;EAEtC;EACA,QAAQgC,GAAG;IACT,KAAK,OAAO;MACVpG,YAAY,CAACqG,KAAK,CAACC,OAAO,GAAG,OAAO;MACpCxG,QAAQ,CAACyC,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC;MAChC;IACF,KAAK,UAAU;MACbvC,eAAe,CAACoG,KAAK,CAACC,OAAO,GAAG,OAAO;MACvCvG,WAAW,CAACwC,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC;MACnC;IACF;MACElD,QAAQ,CAACsF,aAAa,CAAC,iBAAiB,CAAC,CAACyB,KAAK,CAACC,OAAO,GAAG,OAAO;MACjEzG,OAAO,CAAC0C,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC;EACnC;AACF;;AAEA;AACA,SAASkC,WAAWA,CAAA,EAAG;EACrB,IAAM6B,OAAO,GAAG/G,SAAS,CAAChF,KAAK,CAACoL,IAAI,CAAC,CAAC;EACtC,IAAI,CAACW,OAAO,EAAE;;EAEd;EACA/E,UAAU,CAAC,MAAM,EAAE+E,OAAO,CAAC;;EAE3B;EACA/G,SAAS,CAAChF,KAAK,GAAG,EAAE;;EAEpB;EACA,IAAIkG,iBAAiB,KAAK,WAAW,EAAE;IACrClB,SAAS,CAACyE,WAAW,gBAAAhC,MAAA,CAAgBtB,kBAAkB,CAACqD,QAAQ,QAAK;EACvE,CAAC,MAAM,IAAItD,iBAAiB,KAAK,WAAW,EAAE;IAC5ClB,SAAS,CAACyE,WAAW,GAAG,oCAAoC;EAC9D,CAAC,MAAM;IACLzE,SAAS,CAACyE,WAAW,GAAG,qFAAqF;EAC/G;;EAEA;EACA,IAAME,mBAAmB,GAAG7E,QAAQ,CAACC,cAAc,CAAC,kBAAkB,CAAC;EACvE,IAAI4E,mBAAmB,EAAE;IACvBA,mBAAmB,CAACC,MAAM,CAAC,CAAC;EAC9B;;EAEA;EACAN,iBAAiB,CAAC,CAAC,CAChBhH,IAAI,CAAC,UAAAiH,OAAO,EAAI;IACf;IACAnB,cAAc,CAAC,KAAK,EAAE,6EAA6E,EAAE,IAAII,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC;;IAE9H;IACAhC,MAAM,CAACuF,OAAO,CAAC9B,WAAW,CAAC;MACzB/I,IAAI,EAAE,aAAa;MACnB8K,QAAQ,EAAE,OAAO;MACjBxL,MAAM,EAAE,MAAM;MACdoG,IAAI,EAAE;QACJkF,OAAO,EAAPA,OAAO;QACPG,OAAO,EAAE3C;MACX;IACF,CAAC,EAAE,UAAA7B,QAAQ,EAAI;MACb;MACA7C,YAAY,CAACsH,WAAW,CAACtH,YAAY,CAACuH,SAAS,CAAC;MAEhD,IAAI1E,QAAQ,IAAIA,QAAQ,CAAC2E,OAAO,EAAE;QAChC;QACArF,UAAU,CAAC,KAAK,EAAEU,QAAQ,CAACb,IAAI,CAACa,QAAQ,CAAC;;QAEzC;QACA4E,aAAa,CAAC5E,QAAQ,CAACb,IAAI,CAAC0F,OAAO,CAAC;;QAEpC;QACA/F,iBAAiB,CAAC,CAAC;MACrB,CAAC,MAAM;QACL;QACAQ,UAAU,CAAC,KAAK,EAAE,sFAAsF,CAAC;MAC3G;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;AACN;;AAEA;AAAA,SACesC,iBAAiBA,CAAA;EAAA,OAAAkD,kBAAA,CAAA9H,KAAA,OAAAD,SAAA;AAAA,EAkChC;AAAA,SAAA+H,mBAAA;EAAAA,kBAAA,GAAAhI,iBAAA,cAAA1F,mBAAA,GAAAsE,IAAA,CAlCA,SAAAqJ,QAAA;IAAA,OAAA3N,mBAAA,GAAAwC,IAAA,UAAAoL,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAA7I,IAAA,GAAA6I,QAAA,CAAAnK,IAAA;QAAA;UAAA,OAAAmK,QAAA,CAAA1L,MAAA,WACS,IAAIwC,OAAO,CAAC,UAACrB,OAAO,EAAK;YAC9BqE,MAAM,CAACqE,IAAI,CAAC8B,KAAK,CAAC;cAAEC,MAAM,EAAE,IAAI;cAAEC,aAAa,EAAE;YAAK,CAAC,EAAE,UAAChC,IAAI,EAAK;cACjE,IAAIA,IAAI,CAAC/H,MAAM,KAAK,CAAC,EAAE;gBACrBX,OAAO,CAAC,CAAC,CAAC,CAAC;gBACX;cACF;cAEA,IAAM2K,UAAU,GAAGjC,IAAI,CAAC,CAAC,CAAC;;cAE1B;cACA,IAAIiC,UAAU,CAACC,GAAG,CAACrB,QAAQ,CAAC,eAAe,CAAC,IAAIoB,UAAU,CAACC,GAAG,CAACrB,QAAQ,CAAC,MAAM,CAAC,EAAE;gBAC/ElF,MAAM,CAACqE,IAAI,CAACZ,WAAW,CAAC6C,UAAU,CAACjD,EAAE,EAAE;kBAAE3I,IAAI,EAAE;gBAAmB,CAAC,EAAE,UAAAuG,QAAQ,EAAI;kBAC/E,IAAIjB,MAAM,CAACuF,OAAO,CAACiB,SAAS,IAAI,CAACvF,QAAQ,EAAE;oBACzC;oBACAtF,OAAO,CAAC;sBACN4K,GAAG,EAAED,UAAU,CAACC,GAAG;sBACnBE,KAAK,EAAEH,UAAU,CAACG;oBACpB,CAAC,CAAC;kBACJ,CAAC,MAAM;oBACL9K,OAAO,CAACsF,QAAQ,CAAC;kBACnB;gBACF,CAAC,CAAC;cACJ,CAAC,MAAM;gBACL;gBACAtF,OAAO,CAAC;kBACN4K,GAAG,EAAED,UAAU,CAACC,GAAG;kBACnBE,KAAK,EAAEH,UAAU,CAACG;gBACpB,CAAC,CAAC;cACJ;YACF,CAAC,CAAC;UACJ,CAAC,CAAC;QAAA;QAAA;UAAA,OAAAP,QAAA,CAAA1I,IAAA;MAAA;IAAA,GAAAwI,OAAA;EAAA,CACH;EAAA,OAAAD,kBAAA,CAAA9H,KAAA,OAAAD,SAAA;AAAA;AAGD,SAAS6H,aAAaA,CAACC,OAAO,EAAE;EAC9B,IAAI,CAACA,OAAO,IAAIA,OAAO,CAACxJ,MAAM,KAAK,CAAC,EAAE;EAEtCwJ,OAAO,CAACvK,OAAO,CAAC,UAAA0J,MAAM,EAAI;IACxB,QAAQA,MAAM,CAACvK,IAAI;MACjB,KAAK,UAAU;QACbsF,MAAM,CAACqE,IAAI,CAACxK,MAAM,CAAC;UAAE0M,GAAG,EAAEtB,MAAM,CAAC7E,IAAI,CAACmG;QAAI,CAAC,CAAC;QAC5C;MACF,KAAK,mBAAmB;QACtBvG,MAAM,CAACuF,OAAO,CAAC9B,WAAW,CAAC;UACzB/I,IAAI,EAAE,mBAAmB;UACzB+L,KAAK,EAAExB,MAAM,CAAC7E,IAAI,CAACqG,KAAK;UACxBnB,OAAO,EAAEL,MAAM,CAAC7E,IAAI,CAACkF,OAAO;UAC5BQ,OAAO,EAAEb,MAAM,CAAC7E,IAAI,CAAC0F;QACvB,CAAC,CAAC;QACF;MACF,KAAK,eAAe;QAClB,IAAIjH,QAAQ,CAACyC,SAAS,CAACoF,QAAQ,CAAC,QAAQ,CAAC,EAAE;UACzCzC,SAAS,CAAC,CAAC;QACb;QACA;IACJ;EACF,CAAC,CAAC;AACJ;;AAEA;AACA,SAASA,SAASA,CAAA,EAAG;EACnB7E,QAAQ,CAACqD,SAAS,GAAG,uDAAuD;EAE5EzC,MAAM,CAACuF,OAAO,CAAC9B,WAAW,CAAC;IACzB/I,IAAI,EAAE,aAAa;IACnB8K,QAAQ,EAAE,QAAQ;IAClBxL,MAAM,EAAE;EACV,CAAC,EAAE,UAAAiH,QAAQ,EAAI;IACb,IAAIA,QAAQ,IAAIA,QAAQ,CAAC2E,OAAO,EAAE;MAChCe,YAAY,CAAC1F,QAAQ,CAACb,IAAI,CAACwG,KAAK,CAAC;IACnC,CAAC,MAAM;MACLxH,QAAQ,CAACqD,SAAS,GAAG,gFAAgF;IACvG;EACF,CAAC,CAAC;AACJ;;AAEA;AACA,SAASkE,YAAYA,CAACC,KAAK,EAAE;EAC3B,IAAI,CAACA,KAAK,IAAIA,KAAK,CAACtK,MAAM,KAAK,CAAC,EAAE;IAChC8C,QAAQ,CAACqD,SAAS,GAAG,kDAAkD;IACvE;EACF;EAEArD,QAAQ,CAACqD,SAAS,GAAG,EAAE;EAEvBmE,KAAK,CAACrL,OAAO,CAAC,UAAAsL,IAAI,EAAI;IACpB,IAAMC,WAAW,GAAGzI,QAAQ,CAAC6D,aAAa,CAAC,KAAK,CAAC;IACjD4E,WAAW,CAACzF,SAAS,gBAAAL,MAAA,CAAgB6F,IAAI,CAACzF,MAAM,CAACsD,WAAW,CAAC,CAAC,CAAE;IAEhE,IAAMqC,OAAO,GAAGF,IAAI,CAACE,OAAO,GAAG,IAAIhF,IAAI,CAAC8E,IAAI,CAACE,OAAO,CAAC,CAACC,kBAAkB,CAAC,CAAC,GAAG,aAAa;IAE1FF,WAAW,CAACrE,SAAS,4EAAAzB,MAAA,CAEQ6F,IAAI,CAAChD,GAAG,mDAAA7C,MAAA,CACL6F,IAAI,CAACzF,MAAM,+DAAAJ,MAAA,CAEb6F,IAAI,CAACI,OAAO,wFAAAjG,MAAA,CAER6F,IAAI,CAACK,QAAQ,IAAI,YAAY,qDAAAlG,MAAA,CAC7B+F,OAAO,gCAExC;;IAED;IACAD,WAAW,CAACnH,gBAAgB,CAAC,OAAO,EAAE,YAAM;MAC1CK,MAAM,CAACqE,IAAI,CAACxK,MAAM,CAAC;QAAE0M,GAAG,EAAEM,IAAI,CAACN;MAAI,CAAC,CAAC;IACvC,CAAC,CAAC;IAEFnH,QAAQ,CAACsD,WAAW,CAACoE,WAAW,CAAC;EACnC,CAAC,CAAC;AACJ;;AAEA;AACA,SAAS5C,YAAYA,CAAA,EAAG;EACtB,IAAMvD,SAAS,GAAG1B,cAAc,CAAC1F,KAAK,CAACoL,IAAI,CAAC,CAAC;EAC7C,IAAM/D,oBAAoB,GAAG1B,mBAAmB,CAAC4B,OAAO;EAExDd,MAAM,CAACC,OAAO,CAACC,KAAK,CAACI,GAAG,CAAC;IACvBK,SAAS,EAATA,SAAS;IACTC,oBAAoB,EAApBA;EACF,CAAC,EAAE,YAAM;IACP;IACA,IAAMuG,cAAc,GAAG9I,QAAQ,CAAC6D,aAAa,CAAC,KAAK,CAAC;IACpDiF,cAAc,CAAC9F,SAAS,GAAG,iBAAiB;IAC5C8F,cAAc,CAAC3F,WAAW,GAAG,iBAAiB;IAE9CxC,eAAe,CAAC0D,WAAW,CAACyE,cAAc,CAAC;;IAE3C;IACA3G,UAAU,CAAC,YAAM;MACfxB,eAAe,CAAC0G,WAAW,CAACyB,cAAc,CAAC;IAC7C,CAAC,EAAE,IAAI,CAAC;;IAER;IACAtH,qBAAqB,CAAC,CAAC;EACzB,CAAC,CAAC;AACJ;;AAEA;AACA,SAASsE,gBAAgBA,CAAA,EAAG;EAC1B;EACA,IAAMiD,SAAS,GAAG/I,QAAQ,CAAC6D,aAAa,CAAC,OAAO,CAAC;EACjDkF,SAAS,CAAC1M,IAAI,GAAG,MAAM;EACvB0M,SAAS,CAACC,MAAM,GAAG,yCAAyC;;EAE5D;EACAD,SAAS,CAACE,KAAK,CAAC,CAAC;;EAEjB;EACAF,SAAS,CAACzH,gBAAgB,CAAC,QAAQ,EAAE,YAAM;IACzC,IAAIyH,SAAS,CAACG,KAAK,CAACjL,MAAM,GAAG,CAAC,EAAE;MAC9B,IAAMkL,IAAI,GAAGJ,SAAS,CAACG,KAAK,CAAC,CAAC,CAAC;;MAE/B;MACAhH,UAAU,CAAC,MAAM,oBAAAS,MAAA,CAAoBwG,IAAI,CAAC9K,IAAI,CAAE,CAAC;;MAEjD;MACA,IAAM+K,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;;MAE7B;MACA,IAAIA,IAAI,CAAC9M,IAAI,CAACkN,UAAU,CAAC,QAAQ,CAAC,EAAE;QAClC,IAAMC,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;QAC/BD,MAAM,CAACE,MAAM,GAAG,UAACvP,CAAC,EAAK;UACrB,IAAMwP,GAAG,GAAG3J,QAAQ,CAAC6D,aAAa,CAAC,KAAK,CAAC;UACzC8F,GAAG,CAACC,GAAG,GAAGzP,CAAC,CAAC0P,MAAM,CAACC,MAAM;UACzBH,GAAG,CAAC3G,SAAS,GAAG,oBAAoB;UACpCjD,YAAY,CAACsE,WAAW,CAACsF,GAAG,CAAC;UAC7B5J,YAAY,CAACuE,SAAS,GAAGvE,YAAY,CAACwE,YAAY;QACpD,CAAC;QACDiF,MAAM,CAACO,aAAa,CAACZ,IAAI,CAAC;MAC5B;;MAEA;MACA;MACAhH,UAAU,CAAC,YAAM;QACfD,UAAU,CAAC,KAAK,+BAAAS,MAAA,CAA8BwG,IAAI,CAAC9K,IAAI,8CAA0C,CAAC;MACpG,CAAC,EAAE,IAAI,CAAC;IACV;EACF,CAAC,CAAC;AACJ,C","sources":["webpack://jira-action-items-chatbot/./popup/popup.js"],"sourcesContent":["/**\r\n * Popup script for the Jira Action Items Chatbot extension\r\n * Handles the popup UI and communication with the background script\r\n */\r\n\r\n// DOM Elements\r\nconst chatMessages = document.getElementById('chat-messages');\r\nconst userInput = document.getElementById('user-input');\r\nconst sendButton = document.getElementById('send-button');\r\nconst attachButton = document.getElementById('attach-button');\r\nconst statusCircle = document.getElementById('status-circle');\r\nconst statusText = document.getElementById('status-text');\r\nconst tabChat = document.getElementById('tab-chat');\r\nconst tabTasks = document.getElementById('tab-tasks');\r\nconst tabSettings = document.getElementById('tab-settings');\r\nconst tasksContent = document.getElementById('tasks-content');\r\nconst settingsContent = document.getElementById('settings-content');\r\nconst serverUrlInput = document.getElementById('server-url');\r\nconst notificationsToggle = document.getElementById('notifications-toggle');\r\nconst saveSettingsButton = document.getElementById('save-settings');\r\nconst taskList = document.getElementById('task-list');\r\n\r\n// Chat history\r\nlet chatHistory = [];\r\n\r\n// Input suggestions based on context\r\nconst inputSuggestions = {\r\n  default: [\r\n    \"Create a task for me to review the documentation by Friday\",\r\n    \"List my open tasks with high priority\",\r\n    \"Remind me to follow up with the team tomorrow at 9 AM\",\r\n    \"Schedule a meeting for next week\",\r\n    \"Upload evidence for task PROJ-123\"\r\n  ],\r\n  jiraIssue: [\r\n    \"Add a comment to this issue\",\r\n    \"Change status to 'In Progress'\",\r\n    \"Add me as a watcher\",\r\n    \"Set due date to next Friday\",\r\n    \"Assign this to John\"\r\n  ],\r\n  jiraBoard: [\r\n    \"Show tasks assigned to me\",\r\n    \"Create a new epic for the Q3 deliverables\",\r\n    \"List blocked tasks in this project\",\r\n    \"Find tasks without assignees\",\r\n    \"Show tasks due this week\"\r\n  ]\r\n};\r\n\r\n// Active context type\r\nlet activeContextType = 'default';\r\nlet currentJiraContext = {};\r\n\r\n// Initialize the popup\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  // Load settings from storage\r\n  loadSettings();\r\n  \r\n  // Check server connection\r\n  checkServerConnection();\r\n  \r\n  // Load chat history\r\n  loadChatHistory();\r\n  \r\n  // Get current context and update suggestions\r\n  updateJiraContext();\r\n  \r\n  // Add welcome message if this is first time\r\n  chrome.storage.local.get('firstOpen', (data) => {\r\n    if (data.firstOpen !== false) {\r\n      // First time opening the extension\r\n      chrome.storage.local.set({ firstOpen: false });\r\n      addMessage('bot', 'Welcome to Jira Action Items Chatbot! How can I help you today?');\r\n      \r\n      // Show sample commands\r\n      setTimeout(() => {\r\n        addMessage('bot', 'You can ask me to do things like:<br>' +\r\n          '• Create tasks in Jira<br>' +\r\n          '• Set reminders for due dates<br>' +\r\n          '• Update task status<br>' +\r\n          '• Find tasks assigned to you<br>' +\r\n          '<br>Try typing a command or click a suggestion below.');\r\n        \r\n        // Show initial suggestions\r\n        showSuggestions();\r\n      }, 1000);\r\n    }\r\n  });\r\n\r\n  // Set up event listeners\r\n  setupEventListeners();\r\n});\r\n\r\n// Load settings from storage\r\nfunction loadSettings() {\r\n  chrome.storage.local.get(['serverUrl', 'notificationsEnabled'], (data) => {\r\n    if (data.serverUrl) {\r\n      serverUrlInput.value = data.serverUrl;\r\n    }\r\n    \r\n    if (data.notificationsEnabled !== undefined) {\r\n      notificationsToggle.checked = data.notificationsEnabled;\r\n    }\r\n  });\r\n}\r\n\r\n// Check if server is available\r\nfunction checkServerConnection() {\r\n  chrome.storage.local.get('serverUrl', (data) => {\r\n    const serverUrl = data.serverUrl || 'http://localhost:8000';\r\n    \r\n    fetch(`${serverUrl}/health`, { method: 'GET' })\r\n      .then(response => {\r\n        if (response.ok) {\r\n          setStatus('connected');\r\n        } else {\r\n          setStatus('error');\r\n        }\r\n      })\r\n      .catch(() => {\r\n        setStatus('disconnected');\r\n      });\r\n  });\r\n}\r\n\r\n// Set connection status display\r\nfunction setStatus(status) {\r\n  statusCircle.className = 'status-circle';\r\n  \r\n  switch (status) {\r\n    case 'connected':\r\n      statusCircle.classList.add('connected');\r\n      statusText.textContent = 'Connected';\r\n      break;\r\n    case 'disconnected':\r\n      statusCircle.classList.add('disconnected');\r\n      statusText.textContent = 'Disconnected';\r\n      break;\r\n    case 'error':\r\n      statusCircle.classList.add('error');\r\n      statusText.textContent = 'Error';\r\n      break;\r\n    default:\r\n      statusCircle.classList.add('connecting');\r\n      statusText.textContent = 'Connecting...';\r\n  }\r\n}\r\n\r\n// Load chat history from storage\r\nfunction loadChatHistory() {\r\n  chrome.storage.local.get('chatHistory', (data) => {\r\n    if (data.chatHistory && data.chatHistory.length > 0) {\r\n      chatHistory = data.chatHistory;\r\n      \r\n      // Display last 10 messages\r\n      const recentMessages = chatHistory.slice(-10);\r\n      recentMessages.forEach(msg => {\r\n        addMessageToUI(msg.sender, msg.text, msg.timestamp);\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\n// Add chat message to history and UI\r\nfunction addMessage(sender, text) {\r\n  const timestamp = new Date().toISOString();\r\n  \r\n  // Add to chat history\r\n  chatHistory.push({ sender, text, timestamp });\r\n  \r\n  // Save to storage (limited to last 50 messages to save space)\r\n  if (chatHistory.length > 50) {\r\n    chatHistory = chatHistory.slice(-50);\r\n  }\r\n  chrome.storage.local.set({ chatHistory });\r\n  \r\n  // Add to UI\r\n  addMessageToUI(sender, text, timestamp);\r\n  \r\n  // If bot message, show suggestions after a brief delay\r\n  if (sender === 'bot') {\r\n    setTimeout(() => {\r\n      showSuggestions();\r\n    }, 500);\r\n  }\r\n}\r\n\r\n// Add message to UI\r\nfunction addMessageToUI(sender, text, timestamp) {\r\n  const messageDiv = document.createElement('div');\r\n  messageDiv.className = `message ${sender}-message`;\r\n  \r\n  const time = new Date(timestamp);\r\n  const formattedTime = `${time.getHours().toString().padStart(2, '0')}:${time.getMinutes().toString().padStart(2, '0')}`;\r\n  \r\n  messageDiv.innerHTML = `\r\n    <div class=\"message-content\">${text}</div>\r\n    <div class=\"message-time\">${formattedTime}</div>\r\n  `;\r\n  \r\n  chatMessages.appendChild(messageDiv);\r\n  \r\n  // Scroll to bottom\r\n  chatMessages.scrollTop = chatMessages.scrollHeight;\r\n}\r\n\r\n// Update Jira context and suggestions based on current tab\r\nfunction updateJiraContext() {\r\n  getCurrentTabInfo().then(tabInfo => {\r\n    currentJiraContext = tabInfo;\r\n    \r\n    // Determine context type\r\n    if (tabInfo.issueKey) {\r\n      activeContextType = 'jiraIssue';\r\n      userInput.placeholder = `Ask about ${tabInfo.issueKey}...`;\r\n    } else if (tabInfo.isJiraPage) {\r\n      activeContextType = 'jiraBoard';\r\n      userInput.placeholder = 'Ask about Jira board or project...';\r\n    } else {\r\n      activeContextType = 'default';\r\n      userInput.placeholder = 'Type your message here... (e.g., \"Create a task for John to review docs by Monday\")';\r\n    }\r\n    \r\n    // Update suggestions\r\n    showSuggestions();\r\n  });\r\n}\r\n\r\n// Show context-aware suggestions\r\nfunction showSuggestions() {\r\n  // Remove existing suggestions\r\n  const existingSuggestions = document.getElementById('chat-suggestions');\r\n  if (existingSuggestions) {\r\n    existingSuggestions.remove();\r\n  }\r\n  \r\n  // Create suggestions container\r\n  const suggestionsDiv = document.createElement('div');\r\n  suggestionsDiv.id = 'chat-suggestions';\r\n  suggestionsDiv.className = 'chat-suggestions';\r\n  \r\n  // Get relevant suggestions\r\n  const suggestions = inputSuggestions[activeContextType] || inputSuggestions.default;\r\n  \r\n  // Create buttons for each suggestion\r\n  suggestions.slice(0, 3).forEach(suggestion => {\r\n    const button = document.createElement('button');\r\n    button.className = 'suggestion-button';\r\n    button.textContent = suggestion;\r\n    button.addEventListener('click', () => {\r\n      userInput.value = suggestion;\r\n      sendMessage();\r\n    });\r\n    suggestionsDiv.appendChild(button);\r\n  });\r\n  \r\n  // Add to chat container\r\n  const chatContainer = document.querySelector('.chat-container');\r\n  chatContainer.insertBefore(suggestionsDiv, document.querySelector('.input-container'));\r\n}\r\n\r\n// Set up event listeners\r\nfunction setupEventListeners() {\r\n  // Send message when button clicked\r\n  sendButton.addEventListener('click', sendMessage);\r\n  \r\n  // Send message when Enter pressed (but allow Shift+Enter for new lines)\r\n  userInput.addEventListener('keydown', (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      sendMessage();\r\n    }\r\n  });\r\n  \r\n  // Tab switching\r\n  tabChat.addEventListener('click', () => switchTab('chat'));\r\n  tabTasks.addEventListener('click', () => {\r\n    switchTab('tasks');\r\n    loadTasks();\r\n  });\r\n  tabSettings.addEventListener('click', () => switchTab('settings'));\r\n  \r\n  // Save settings\r\n  saveSettingsButton.addEventListener('click', saveSettings);\r\n  \r\n  // Attachment button\r\n  attachButton.addEventListener('click', handleAttachment);\r\n  \r\n  // Focus input when chat tab is active\r\n  tabChat.addEventListener('click', () => {\r\n    setTimeout(() => userInput.focus(), 100);\r\n  });\r\n  \r\n  // Update context when extension is opened\r\n  chrome.tabs.onActivated.addListener(() => {\r\n    updateJiraContext();\r\n  });\r\n  \r\n  // Input changes - smart suggestions during typing\r\n  userInput.addEventListener('input', smartSuggestions);\r\n}\r\n\r\n// Provide smart suggestions while typing\r\nfunction smartSuggestions() {\r\n  const input = userInput.value.toLowerCase().trim();\r\n  \r\n  // Only suggest if at least 3 characters\r\n  if (input.length < 3) return;\r\n  \r\n  // Common action words to detect\r\n  const createActions = ['create', 'add', 'make', 'new'];\r\n  const reminderActions = ['remind', 'notification', 'alert'];\r\n  const updateActions = ['update', 'change', 'modify', 'edit'];\r\n  const listActions = ['list', 'find', 'show', 'get', 'display'];\r\n  \r\n  // Set placeholder based on detected intent\r\n  if (createActions.some(action => input.includes(action)) && input.includes('task')) {\r\n    userInput.placeholder = 'Creating a task: Specify assignee, title, due date...';\r\n  } else if (reminderActions.some(action => input.includes(action))) {\r\n    userInput.placeholder = 'Setting a reminder: Specify date, time, and details...';\r\n  } else if (updateActions.some(action => input.includes(action)) && input.includes('status')) {\r\n    userInput.placeholder = 'Updating status: Specify task key and new status...';\r\n  } else if (listActions.some(action => input.includes(action))) {\r\n    userInput.placeholder = 'Finding tasks: Specify criteria (assignee, status, etc.)...';\r\n  }\r\n}\r\n\r\n// Switch between tabs\r\nfunction switchTab(tab) {\r\n  // Hide all tabs\r\n  document.querySelector('.chat-container').style.display = 'none';\r\n  tasksContent.style.display = 'none';\r\n  settingsContent.style.display = 'none';\r\n  \r\n  // Remove active class from all tab buttons\r\n  tabChat.classList.remove('active');\r\n  tabTasks.classList.remove('active');\r\n  tabSettings.classList.remove('active');\r\n  \r\n  // Show selected tab\r\n  switch (tab) {\r\n    case 'tasks':\r\n      tasksContent.style.display = 'block';\r\n      tabTasks.classList.add('active');\r\n      break;\r\n    case 'settings':\r\n      settingsContent.style.display = 'block';\r\n      tabSettings.classList.add('active');\r\n      break;\r\n    default:\r\n      document.querySelector('.chat-container').style.display = 'block';\r\n      tabChat.classList.add('active');\r\n  }\r\n}\r\n\r\n// Send message to the server and process response\r\nfunction sendMessage() {\r\n  const message = userInput.value.trim();\r\n  if (!message) return;\r\n  \r\n  // Add user message to UI\r\n  addMessage('user', message);\r\n  \r\n  // Clear input\r\n  userInput.value = '';\r\n  \r\n  // Reset placeholder\r\n  if (activeContextType === 'jiraIssue') {\r\n    userInput.placeholder = `Ask about ${currentJiraContext.issueKey}...`;\r\n  } else if (activeContextType === 'jiraBoard') {\r\n    userInput.placeholder = 'Ask about Jira board or project...';\r\n  } else {\r\n    userInput.placeholder = 'Type your message here... (e.g., \"Create a task for John to review docs by Monday\")';\r\n  }\r\n  \r\n  // Remove suggestions\r\n  const existingSuggestions = document.getElementById('chat-suggestions');\r\n  if (existingSuggestions) {\r\n    existingSuggestions.remove();\r\n  }\r\n  \r\n  // Get current Jira context if available\r\n  getCurrentTabInfo()\r\n    .then(tabInfo => {\r\n      // Show typing indicator\r\n      addMessageToUI('bot', '<div class=\"typing-indicator\"><span></span><span></span><span></span></div>', new Date().toISOString());\r\n      \r\n      // Send to server via background script\r\n      chrome.runtime.sendMessage({\r\n        type: 'API_REQUEST',\r\n        endpoint: '/chat',\r\n        method: 'POST',\r\n        data: {\r\n          message,\r\n          context: tabInfo\r\n        }\r\n      }, response => {\r\n        // Remove typing indicator\r\n        chatMessages.removeChild(chatMessages.lastChild);\r\n        \r\n        if (response && response.success) {\r\n          // Add bot response to chat\r\n          addMessage('bot', response.data.response);\r\n          \r\n          // Handle actions if any were returned\r\n          handleActions(response.data.actions);\r\n          \r\n          // Update context in case it changed\r\n          updateJiraContext();\r\n        } else {\r\n          // Show error message\r\n          addMessage('bot', 'Sorry, I encountered an error while processing your request. Please try again later.');\r\n        }\r\n      });\r\n    });\r\n}\r\n\r\n// Get info about the current tab for context\r\nasync function getCurrentTabInfo() {\r\n  return new Promise((resolve) => {\r\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\r\n      if (tabs.length === 0) {\r\n        resolve({});\r\n        return;\r\n      }\r\n      \r\n      const currentTab = tabs[0];\r\n      \r\n      // If it's a Jira page, try to get additional context\r\n      if (currentTab.url.includes('atlassian.net') || currentTab.url.includes('jira')) {\r\n        chrome.tabs.sendMessage(currentTab.id, { type: 'GET_JIRA_CONTEXT' }, response => {\r\n          if (chrome.runtime.lastError || !response) {\r\n            // If content script not available or no response\r\n            resolve({\r\n              url: currentTab.url,\r\n              title: currentTab.title\r\n            });\r\n          } else {\r\n            resolve(response);\r\n          }\r\n        });\r\n      } else {\r\n        // Not a Jira page\r\n        resolve({\r\n          url: currentTab.url,\r\n          title: currentTab.title\r\n        });\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\n// Handle any actions returned from the server\r\nfunction handleActions(actions) {\r\n  if (!actions || actions.length === 0) return;\r\n  \r\n  actions.forEach(action => {\r\n    switch (action.type) {\r\n      case 'open_url':\r\n        chrome.tabs.create({ url: action.data.url });\r\n        break;\r\n      case 'show_notification':\r\n        chrome.runtime.sendMessage({\r\n          type: 'SHOW_NOTIFICATION',\r\n          title: action.data.title,\r\n          message: action.data.message,\r\n          actions: action.data.actions\r\n        });\r\n        break;\r\n      case 'refresh_tasks':\r\n        if (tabTasks.classList.contains('active')) {\r\n          loadTasks();\r\n        }\r\n        break;\r\n    }\r\n  });\r\n}\r\n\r\n// Load tasks from server\r\nfunction loadTasks() {\r\n  taskList.innerHTML = '<div class=\"loading-indicator\">Loading tasks...</div>';\r\n  \r\n  chrome.runtime.sendMessage({\r\n    type: 'API_REQUEST',\r\n    endpoint: '/tasks',\r\n    method: 'GET'\r\n  }, response => {\r\n    if (response && response.success) {\r\n      displayTasks(response.data.tasks);\r\n    } else {\r\n      taskList.innerHTML = '<div class=\"error-message\">Failed to load tasks. Please try again later.</div>';\r\n    }\r\n  });\r\n}\r\n\r\n// Display tasks in the UI\r\nfunction displayTasks(tasks) {\r\n  if (!tasks || tasks.length === 0) {\r\n    taskList.innerHTML = '<div class=\"empty-message\">No tasks found.</div>';\r\n    return;\r\n  }\r\n  \r\n  taskList.innerHTML = '';\r\n  \r\n  tasks.forEach(task => {\r\n    const taskElement = document.createElement('div');\r\n    taskElement.className = `task-item ${task.status.toLowerCase()}`;\r\n    \r\n    const dueDate = task.dueDate ? new Date(task.dueDate).toLocaleDateString() : 'No due date';\r\n    \r\n    taskElement.innerHTML = `\r\n      <div class=\"task-header\">\r\n        <span class=\"task-key\">${task.key}</span>\r\n        <span class=\"task-status\">${task.status}</span>\r\n      </div>\r\n      <div class=\"task-summary\">${task.summary}</div>\r\n      <div class=\"task-details\">\r\n        <span class=\"task-assignee\">${task.assignee || 'Unassigned'}</span>\r\n        <span class=\"task-due-date\">${dueDate}</span>\r\n      </div>\r\n    `;\r\n    \r\n    // Add click event to open the task\r\n    taskElement.addEventListener('click', () => {\r\n      chrome.tabs.create({ url: task.url });\r\n    });\r\n    \r\n    taskList.appendChild(taskElement);\r\n  });\r\n}\r\n\r\n// Save settings\r\nfunction saveSettings() {\r\n  const serverUrl = serverUrlInput.value.trim();\r\n  const notificationsEnabled = notificationsToggle.checked;\r\n  \r\n  chrome.storage.local.set({\r\n    serverUrl,\r\n    notificationsEnabled\r\n  }, () => {\r\n    // Show saved message\r\n    const savedIndicator = document.createElement('div');\r\n    savedIndicator.className = 'saved-indicator';\r\n    savedIndicator.textContent = 'Settings saved!';\r\n    \r\n    settingsContent.appendChild(savedIndicator);\r\n    \r\n    // Remove after 2 seconds\r\n    setTimeout(() => {\r\n      settingsContent.removeChild(savedIndicator);\r\n    }, 2000);\r\n    \r\n    // Check connection with new URL\r\n    checkServerConnection();\r\n  });\r\n}\r\n\r\n// Handle file attachment\r\nfunction handleAttachment() {\r\n  // Create a file input element\r\n  const fileInput = document.createElement('input');\r\n  fileInput.type = 'file';\r\n  fileInput.accept = 'image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt';\r\n  \r\n  // Trigger click event to open file picker\r\n  fileInput.click();\r\n  \r\n  // Handle file selection\r\n  fileInput.addEventListener('change', () => {\r\n    if (fileInput.files.length > 0) {\r\n      const file = fileInput.files[0];\r\n      \r\n      // Add message about the attachment\r\n      addMessage('user', `Attached file: ${file.name}`);\r\n      \r\n      // Create FormData and send to server via background script\r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      \r\n      // Preview for certain file types\r\n      if (file.type.startsWith('image/')) {\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          const img = document.createElement('img');\r\n          img.src = e.target.result;\r\n          img.className = 'attachment-preview';\r\n          chatMessages.appendChild(img);\r\n          chatMessages.scrollTop = chatMessages.scrollHeight;\r\n        };\r\n        reader.readAsDataURL(file);\r\n      }\r\n      \r\n      // TODO: Implement file upload to server (requires additional backend support)\r\n      // For now, just show a message\r\n      setTimeout(() => {\r\n        addMessage('bot', `I've received your file \"${file.name}\". What would you like me to do with it?`);\r\n      }, 1000);\r\n    }\r\n  });\r\n} "],"names":["_regeneratorRuntime","r","t","e","Object","prototype","n","hasOwnProperty","o","Symbol","i","iterator","a","asyncIterator","u","toStringTag","c","defineProperty","value","enumerable","configurable","writable","h","Generator","create","Error","done","method","arg","delegate","d","f","sent","_sent","dispatchException","abrupt","s","type","Context","call","wrap","GeneratorFunction","GeneratorFunctionPrototype","l","p","getPrototypeOf","y","x","v","g","forEach","_invoke","AsyncIterator","_typeof","resolve","__await","then","TypeError","next","w","tryEntries","push","m","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","unshift","pop","values","prev","charAt","slice","stop","rval","complete","finish","_catch","delegateYield","asyncGeneratorStep","_asyncToGenerator","arguments","apply","_next","_throw","chatMessages","document","getElementById","userInput","sendButton","attachButton","statusCircle","statusText","tabChat","tabTasks","tabSettings","tasksContent","settingsContent","serverUrlInput","notificationsToggle","saveSettingsButton","taskList","chatHistory","inputSuggestions","jiraIssue","jiraBoard","activeContextType","currentJiraContext","addEventListener","loadSettings","checkServerConnection","loadChatHistory","updateJiraContext","chrome","storage","local","get","data","firstOpen","set","addMessage","setTimeout","showSuggestions","setupEventListeners","serverUrl","notificationsEnabled","undefined","checked","fetch","concat","response","ok","setStatus","status","className","classList","add","textContent","recentMessages","msg","addMessageToUI","sender","text","timestamp","Date","toISOString","messageDiv","createElement","time","formattedTime","getHours","toString","padStart","getMinutes","innerHTML","appendChild","scrollTop","scrollHeight","getCurrentTabInfo","tabInfo","issueKey","placeholder","isJiraPage","existingSuggestions","remove","suggestionsDiv","id","suggestions","suggestion","button","sendMessage","chatContainer","querySelector","insertBefore","key","shiftKey","preventDefault","switchTab","loadTasks","saveSettings","handleAttachment","focus","tabs","onActivated","addListener","smartSuggestions","input","toLowerCase","trim","createActions","reminderActions","updateActions","listActions","some","action","includes","tab","style","display","message","runtime","endpoint","context","removeChild","lastChild","success","handleActions","actions","_getCurrentTabInfo","_callee","_callee$","_context","query","active","currentWindow","currentTab","url","lastError","title","contains","displayTasks","tasks","task","taskElement","dueDate","toLocaleDateString","summary","assignee","savedIndicator","fileInput","accept","click","files","file","formData","FormData","append","startsWith","reader","FileReader","onload","img","src","target","result","readAsDataURL"],"sourceRoot":""}